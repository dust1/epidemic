# epidemic 一个去中心化的存储节点
用于集群中存储文件。

#### 2021/04/24 更新：
重新设计了程序，拆分为两个模块：node、client。
node是对等网络存储节点，用于实现P2P分布式存储。

#### 2021/04/18 更新：
1. 本地存储部分，将本地文件分为.data与.md文件。
    1. .data文件表示本地存储的数据
    2. .md文件存储的是文件相关的元数据信息
2. 存储的基本单位为object，多个object组成一个.data文件。这里的object不代表实际存储的文件，而是将文件拆分/转换后的单位。一个文件会有一个或者多个object。
3. 没经过一次rpc传输，所传输的数据组成一个object
4. 系统中会有两个概念的文件id
    1. 第一个文件id存在目录树中，面向用户的文件id，表示存储的完整文件在系统中的id
    2. 第二个文件id在存储模块中使用，表示本地磁盘.data文件的id

#### 2021/04/14 修改：
1. 对B+树的序列化与反序列化进行编写，保证pull指令能够正常执行
    1. 学习B+树并动手创建，适配本程序进行适当修改【已完成】
    2. 编写fs模块，用于对本机磁盘文件进行操作【进行中】
        1. 这样文件系统部分由fs模块与虚拟目录模块组成，两者通过DataNode对接
2. 对网络通信模块与内部各个模块之间的糅合进行整理，争取做到低耦合
3. 传输数据要有一个全局唯一的关键字，用于节点检查该消息是否已经收到【已删除】
    1. 追加：此功能已修改为使用文件的Merkle树根哈希【未开始】

##### 当前任务
1. 编写fs模块
    1. fs模块是一个针对本地指定目录的单机文件系统，用于提供数据的持久化操作，同时还要能支持目录树的快照持久化
2. 编写对数据块构建Merkle树模块，同时还要给出具体不同的数据段
> 总的来说，当前主要任务是构建一个本地的单机文件系统


#### 2021/04/13 后续：
1. 对B+树的序列化与反序列化进行编写，保证pull指令能够正常执行
2. 对网络通信模块与内部各个模块之间的糅合进行整理，争取做到低耦合
3. 传输数据要有一个全局唯一的关键字，用于节点检查该消息是否已经收到
